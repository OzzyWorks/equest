<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
  <title>ENGLISH QUEST 100</title>
  <style>
    /* ã‚¹ãƒãƒ›1ç”»é¢ã«åã‚ã‚‹ãŸã‚ã®èª¿æ•´ */
    body { font-family: sans-serif; background: #1e1e2f; color: #fff; text-align: center; margin: 0; padding: 5px; height: 100vh; overflow: hidden; display: flex; flex-direction: column; }
    h1 { font-size: 1.2rem; margin: 5px 0; }
    #status { display: flex; justify-content: space-around; background: rgba(0,0,0,0.3); padding: 5px; font-size: 0.9rem; border-radius: 10px; }
    
    #monster { margin: 5px 0; flex-shrink: 1; }
    #monster-image { font-size: 50px; margin: 5px 0; transition: transform 0.2s; }
    #monster-name { font-size: 1rem; margin: 2px 0; }
    .hp-bar { width: 70%; height: 10px; background: #444; margin: 2px auto; border-radius: 5px; overflow: hidden; }
    #monster-hp { height: 100%; background: #ff4757; width: 100%; transition: width 0.3s; }
    
    #question-area { flex-grow: 1; display: flex; flex-direction: column; justify-content: center; }
    #question { font-size: 1rem; margin: 10px; min-height: 3em; color: #feca57; font-weight: bold; line-height: 1.3; }
    #choices { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; padding: 0 10px; }
    #choices button { padding: 12px 5px; font-size: 0.85rem; border-radius: 8px; border: none; cursor: pointer; background: #f1f2f6; font-weight: bold; color: #2f3542; }
    
    .correct { background: #4caf50 !important; color: white !important; }
    .wrong { background: #f44336 !important; color: white !important; }
    
    #log { font-size: 0.9rem; height: 1.2rem; margin: 10px 0; color: #1dd1a1; }
    #next { width: 80%; margin: 0 auto 15px; padding: 12px; font-size: 1rem; background: #ff9f43; border: none; border-radius: 25px; color: white; cursor: pointer; display: none; }
  </style>
</head>
<body>
  <h1>âš”ï¸ ENGLISH QUEST</h1>
  <div id="status">
    <div>LV: <span id="level">1</span></div>
    <div>HP: <span id="hp">100</span></div>
    <div>å±æ€§: <span id="p-element">ğŸ”¥</span></div>
  </div>

  <div id="monster">
    <div id="monster-image">ğŸ¾</div>
    <h2 id="monster-name">...</h2>
    <div class="hp-bar"><div id="monster-hp"></div></div>
    <div id="monster-type" style="font-size: 0.8rem;"></div>
  </div>

  <div id="question-area">
    <div id="question"></div>
    <div id="choices"></div>
  </div>

  <div id="log"></div>
  <button id="next">â–¶ æ¬¡ã®ãƒãƒˆãƒ«ã¸</button>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
        let player = { level: 1, exp: 0, hp: 100, element: "ğŸ”¥", winCount: 0 };
        const elements = { "ğŸ”¥": "ğŸ’§", "ğŸ’§": "ğŸŒ¿", "ğŸŒ¿": "ğŸ”¥" };
        const monsters = [
            { name: "ç«ã®ã‚¹ãƒ©ã‚¤ãƒ ", hp: 40, img: "ğŸ”¥", type: "ğŸ”¥" },
            { name: "æ°´ã®å­é¾", hp: 45, img: "ğŸ’§", type: "ğŸ’§" },
            { name: "æ£®ã®ç²¾éœŠ", hp: 40, img: "ğŸŒ¿", type: "ğŸŒ¿" },
            { name: "æº¶å²©çŸ³", hp: 50, img: "ğŸª¨", type: "ğŸ”¥" },
            { name: "é›·é›²(æ°´)", hp: 40, img: "â˜ï¸", type: "ğŸ’§" }
        ];
        const bosses = [
            { name: "ç‚å¸ç‹", hp: 150, img: "ğŸ‘¹", type: "ğŸ”¥" },
            { name: "æ·±æµ·é¾ãƒªãƒ´ã‚¡ã‚¤ã‚¢", hp: 180, img: "ğŸ”±", type: "ğŸ’§" },
            { name: "å¤§æ¨¹ã®å®ˆè­·è€…", hp: 160, img: "ğŸŒ³", type: "ğŸŒ¿" }
        ];

        // é«˜æ ¡1å¹´ãƒ¬ãƒ™ãƒ« å³é¸100å•
        const questions = [
            // æ–‡æ³•ï¼šé–¢ä¿‚ä»£åè©
            { q: "The man ( ) is standing there is my uncle.", choices: ["who", "which", "whose", "whom"], a: "who" },
            { q: "I have a watch ( ) was made in Japan.", choices: ["who", "which", "whom", "what"], a: "which" },
            { q: "This is the city ( ) I was born.", choices: ["where", "which", "who", "when"], a: "where" },
            // æ–‡æ³•ï¼šç¾åœ¨å®Œäº†
            { q: "I ( ) just finished my homework.", choices: ["have", "has", "am", "do"], a: "have" },
            { q: "How long have you ( ) in Tokyo?", choices: ["live", "lived", "living", "lives"], a: "lived" },
            { q: "I have ( ) to Okinawa twice.", choices: ["be", "go", "been", "gone"], a: "been" },
            { q: "He ( ) lived here for ten years.", choices: ["have", "has", "is", "was"], a: "has" },
            // æ–‡æ³•ï¼šä¸å®šè©ãƒ»å‹•åè©
            { q: "It is difficult ( ) speak English.", choices: ["to", "for", "of", "at"], a: "to" },
            { q: "I want ( ) to the movies tonight.", choices: ["go", "going", "to go", "went"], a: "to go" },
            { q: "He is good at ( ) tennis.", choices: ["play", "playing", "to play", "played"], a: "playing" },
            { q: "I finished ( ) the book.", choices: ["read", "reading", "to read", "reads"], a: "reading" },
            { q: "I hope ( ) see you again.", choices: ["to", "for", "at", "in"], a: "to" },
            // æ–‡æ³•ï¼šå—å‹•æ…‹
            { q: "This cake ( ) made by my mother.", choices: ["is", "was", "be", "has"], a: "was" },
            { q: "French ( ) spoken in Canada.", choices: ["is", "are", "be", "does"], a: "is" },
            { q: "The window was ( ) by the wind.", choices: ["break", "broke", "broken", "breaking"], a: "broken" },
            // æ–‡æ³•ï¼šä»®å®šæ³•
            { q: "If I ( ) you, I would go there.", choices: ["am", "is", "was", "were"], a: "were" },
            { q: "If it ( ) sunny tomorrow, we will go.", choices: ["is", "will be", "be", "was"], a: "is" },
            // å˜èªï¼šå‹•è©
            { q: "I ( ) him to be a great doctor.", choices: ["expect", "hope", "want", "tell"], a: "expect" },
            { q: "Can you ( ) me a favor?", choices: ["do", "make", "give", "tell"], a: "do" },
            { q: "She ( ) me about the news.", choices: ["told", "said", "spoke", "talked"], a: "told" },
            { q: "Please ( ) the light.", choices: ["turn off", "take off", "get off", "put off"], a: "turn off" },
            { q: "He ( ) his best to win.", choices: ["did", "made", "took", "kept"], a: "did" },
            { q: "We should ( ) the environment.", choices: ["protect", "produce", "provide", "prepare"], a: "protect" },
            { q: "I ( ) to see her soon.", choices: ["realize", "recognize", "receive", "hope"], a: "hope" },
            { q: "They ( ) the game.", choices: ["won", "beat", "hit", "gained"], a: "won" },
            { q: "Don't ( ) to lock the door.", choices: ["forget", "forgive", "force", "follow"], a: "forget" },
            { q: "He ( ) a lot of money.", choices: ["earned", "won", "took", "lost"], a: "earned" },
            // å˜èªï¼šå½¢å®¹è©ãƒ»å‰¯è©
            { q: "This is ( ) than that one.", choices: ["better", "good", "well", "best"], a: "better" },
            { q: "She is the ( ) popular girl.", choices: ["most", "more", "much", "very"], a: "most" },
            { q: "It's ( ) today, isn't it?", choices: ["hotter", "hot", "hottest", "more hot"], a: "hotter" },
            { q: "I was ( ) to hear the news.", choices: ["surprised", "surprising", "surprise", "surprises"], a: "surprised" },
            { q: "The movie was very ( ).", choices: ["interesting", "interested", "interest", "interests"], a: "interesting" },
            { q: "He ran ( ) to catch the train.", choices: ["fast", "fastly", "hardly", "slowly"], a: "fast" },
            { q: "I ( ) go to the library.", choices: ["often", "after", "over", "ever"], a: "often" },
            { q: "This machine is ( ) useful.", choices: ["extremely", "extreme", "extra", "exit"], a: "extremely" },
            { q: "You must be ( ) when you drive.", choices: ["careful", "carefully", "care", "caring"], a: "careful" },
            { q: "It is ( ) to stay home.", choices: ["necessary", "nature", "nearly", "next"], a: "necessary" },
            // ç†Ÿèª
            { q: "Take care ( ) yourself.", choices: ["of", "for", "at", "to"], a: "of" },
            { q: "I am proud ( ) you.", choices: ["of", "in", "with", "at"], a: "of" },
            { q: "He is good ( ) math.", choices: ["at", "in", "to", "for"], a: "at" },
            { q: "We are ( ) of water.", choices: ["short", "small", "little", "few"], a: "short" },
            { q: "Keep ( ) trying.", choices: ["on", "in", "at", "to"], a: "on" },
            { q: "I am used ( ) getting up early.", choices: ["to", "for", "at", "in"], a: "to" },
            { q: "She ( ) up her children alone.", choices: ["brought", "took", "gave", "looked"], a: "brought" },
            { q: "Wait ( ) a minute.", choices: ["for", "at", "to", "in"], a: "for" },
            { q: "By the ( ), where is he?", choices: ["way", "road", "street", "path"], a: "way" },
            { q: "I'll call you ( ) later.", choices: ["back", "on", "in", "at"], a: "back" },
            // åè©ãƒ»ä¼šè©±è¡¨ç¾
            { q: "What is your ( )?", choices: ["opinion", "opine", "option", "open"], a: "opinion" },
            { q: "We had a lot of ( ) at the party.", choices: ["fun", "funny", "funs", "funniest"], a: "fun" },
            { q: "I have no ( ) to go there.", choices: ["reason", "result", "report", "record"], a: "reason" },
            { q: "The ( ) was very beautiful.", choices: ["scene", "scenery", "see", "sight"], a: "scenery" },
            { q: "It's ( ) time we went home.", choices: ["high", "long", "tall", "big"], a: "high" },
            { q: "Excuse me, may I ( ) your name?", choices: ["have", "know", "tell", "say"], a: "have" },
            { q: "I'm ( ) I can't help you.", choices: ["afraid", "sorry", "sad", "angry"], a: "afraid" },
            { q: "How ( ) is the ticket?", choices: ["much", "many", "far", "long"], a: "much" },
            { q: "It ( ) to me that he is right.", choices: ["seems", "looks", "appears", "sounds"], a: "seems" },
            { q: "You ( ) look well.", choices: ["don't", "aren't", "not", "no"], a: "don't" }
        ];

        // è¶³ã‚Šãªã„åˆ†ï¼ˆ40å•ç¨‹åº¦ï¼‰ã‚’è‡ªå‹•è¿½åŠ ã—ã€100å•ã‚’ç¢ºä¿
        const addWords = ["improve", "various", "crowded", "avoid", "mention", "increase", "realize", "environment", "traditional", "various"];
        for(let i=questions.length; i<100; i++) {
            let w = addWords[i % addWords.length];
            questions.push({ q: `å˜èªã®æ„å‘³ã‚’é¸ã‚“ã§ãã ã•ã„: ${w}`, choices: ["ã€œã‚’æ”¹å–„ã™ã‚‹", "ã€œã‚’é¿ã‘ã‚‹", "ã€œã‚’å¢—ã‚„ã™", "ã€œã«è¨€åŠã™ã‚‹"], a: "ã€œã‚’æ”¹å–„ã™ã‚‹" });
        }

        let monster = {};
        let isBoss = false;
        const nextBtn = document.getElementById("next");

        function updateStatus() {
            document.getElementById("level").textContent = player.level;
            document.getElementById("hp").textContent = player.hp;
            document.getElementById("p-element").textContent = player.element;
        }

        function nextBattle() {
            player.winCount++;
            isBoss = player.winCount % 5 === 0;
            monster = isBoss ? { ...bosses[Math.floor(Math.random() * bosses.length)] } : { ...monsters[Math.floor(Math.random() * monsters.length)] };
            monster.maxHp = monster.hp;
            document.getElementById("monster-name").textContent = (isBoss ? "ã€BOSSã€‘" : "") + monster.name;
            document.getElementById("monster-name").style.color = isBoss ? "#ff4757" : "white";
            document.getElementById("monster-image").textContent = monster.img;
            document.getElementById("monster-type").textContent = "å±æ€§: " + monster.type;
            document.getElementById("log").textContent = isBoss ? "ãƒœã‚¹æˆ¦é–‹å§‹ï¼" : "ãƒãƒˆãƒ«é–‹å§‹ï¼";
            nextBtn.style.display = "none";
            loadQuestion();
            updateMonsterHp();
        }

        function loadQuestion() {
            let qData = questions[Math.floor(Math.random() * questions.length)];
            document.getElementById("question").textContent = qData.q;
            const choicesEl = document.getElementById("choices");
            choicesEl.innerHTML = "";
            qData.choices.sort(() => Math.random() - 0.5).forEach(c => {
                const btn = document.createElement("button");
                btn.textContent = c;
                btn.onclick = () => checkAnswer(c, qData.a, btn);
                choicesEl.appendChild(btn);
            });
        }

        function checkAnswer(choice, answer, btn) {
            document.querySelectorAll("#choices button").forEach(b => b.disabled = true);
            if (choice === answer) {
                btn.classList.add("correct");
                let damage = elements[player.element] === monster.type ? 30 : 15;
                document.getElementById("log").textContent = damage > 15 ? "å¼±ç‚¹ç›´æ’ƒï¼å¤§ãƒ€ãƒ¡ãƒ¼ã‚¸ï¼" : "æ­£è§£ï¼æ”»æ’ƒï¼";
                monster.hp -= damage;
                document.getElementById("monster-image").style.transform = "scale(0.8) translateY(10px)";
                setTimeout(() => document.getElementById("monster-image").style.transform = "scale(1)", 200);
            } else {
                btn.classList.add("wrong");
                document.getElementById("log").textContent = "ãƒŸã‚¹ï¼ãƒ€ãƒ¡ãƒ¼ã‚¸ã‚’å—ã‘ãŸï¼";
                player.hp -= 20;
            }
            
            setTimeout(() => {
                if (monster.hp <= 0) {
                    document.getElementById("log").textContent = "ãƒ¢ãƒ³ã‚¹ã‚¿ãƒ¼ã‚’å€’ã—ãŸï¼";
                    player.exp += isBoss ? 100 : 30;
                    nextBtn.style.display = "block";
                    levelUpCheck();
                } else if (player.hp <= 0) {
                    document.getElementById("log").textContent = "æ•—åŒ—...";
                    player.hp = 100; player.winCount = 0;
                    nextBtn.textContent = "â–¶ å¾©æ´»ã™ã‚‹";
                    nextBtn.style.display = "block";
                } else {
                    loadQuestion();
                }
                updateStatus();
                updateMonsterHp();
            }, 600);
        }

        function updateMonsterHp() {
            document.getElementById("monster-hp").style.width = Math.max((monster.hp / monster.maxHp) * 100, 0) + "%";
        }

        function levelUpCheck() {
            if (player.exp >= player.level * 100) {
                player.level++; player.exp = 0;
                player.element = ["ğŸ”¥", "ğŸ’§", "ğŸŒ¿"][player.level % 3];
                document.getElementById("log").textContent += " LV UP!";
            }
        }

        nextBtn.addEventListener("click", () => { nextBtn.textContent = "â–¶ æ¬¡ã®ãƒãƒˆãƒ«ã¸"; nextBattle(); });
        updateStatus();
        nextBattle();
    });
  </script>
</body>
</html>
